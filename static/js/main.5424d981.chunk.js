(this["webpackJsonpfile-to-data-url"]=this["webpackJsonpfile-to-data-url"]||[]).push([[0],{22:function(e,t,n){e.exports=n(35)},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(7),l=n(4),c=n(14),u=n(6),i=n(1),o=n(2),s=n.n(o),f=n(3),m=n(13),b=n.n(m),p="function"===typeof DataTransferItem.prototype.webkitGetAsEntry,d=function(){var e=Object(f.a)(s.a.mark((function e(t){var n,r,a,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isFile){e.next=7;break}return e.next=3,new Promise((function(e){return t.file(e)}));case 3:return n=e.sent,e.abrupt("return",[n]);case 7:return r=t.createReader(),e.next=10,new Promise((function(e){return r.readEntries(e)}));case 10:return a=e.sent,e.next=13,Promise.all(a.map(d));case 13:return l=e.sent,e.abrupt("return",b()(l));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(s.a.mark((function e(t){var n,r,a,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.files?Array.from(t.files):[],!(r=t.items?Array.from(t.items).filter((function(e){return"file"===e.kind})):[]).length||!p){e.next=8;break}return a=r.map((function(e){return e.webkitGetAsEntry()})),e.next=6,Promise.all(a.map(d));case 6:return l=e.sent,e.abrupt("return",b()(l));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return"RESET"===e.type},y=function(e){return"ADD_FILES"===e.type},h=function(e){return{type:"ADD_FILES",payload:{files:Array.from(e,(function(e){return{name:e.name,size:e.size,type:e.type||null,last:new Date(e.lastModified).toISOString(),blob:URL.createObjectURL(e)}}))}}},w=function(e){return function(){var t=Object(f.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:(r=t.sent).length&&n(h(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return"REMOVE_FILES"===e.type},O={files:[],latest:null},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;if(v(t))return O;if(y(t))return Object(u.a)(Object(u.a)({},e),{},{files:[].concat(Object(c.a)(e.files),Object(c.a)(t.payload.files)),latest:1===t.payload.files.length?t.payload.files[0].blob:null});if(x(t)){var n=e.files,r=e.latest,a=t.payload.blobs;return Object(u.a)(Object(u.a)({},e),{},{files:n.filter((function(e){return a.indexOf(e.blob)<0})),latest:null!==r&&a.indexOf(r)<0?r:null})}return e},g=i.c,j=function(e){return e.files},N=function(e){return e.latest},D=function(e){return e.files.length>0},L=n(18),C=n(19),T=function(){var e=Object(i.b)(),t=r.useCallback((function(){e({type:"RESET"})}),[e]);return r.createElement("button",{className:"btn btn-light",type:"button",onClick:t},"Clear all files")},S=function(){var e=Object(i.b)(),t=r.useCallback((function(t){t.currentTarget.files&&(e(h(t.currentTarget.files)),t.currentTarget.value="")}),[e]);return r.createElement("div",{className:"custom-file"},r.createElement("input",{id:"FileSelector",type:"file",multiple:!0,onChange:t}),r.createElement("label",{className:"custom-file-label",htmlFor:"FileSelector"},"Choose files"))},F=function(e){var t=e.children,n=t.lastIndexOf(".");-1===n&&(n=t.length);var a=t.substring(0,n),l=t.substring(n);return r.createElement(r.Fragment,null,r.createElement("span",{className:"file-icon file-icon-xs mr-2","data-type":l.replace(/^\./,""),style:{verticalAlign:"text-top"}}),r.createElement("span",null,a),l&&r.createElement("span",null,l))},R=n(21),A=function(e){var t=e.children;return r.createElement(r.Fragment,null,Object(R.a)(new Date(t),"EEE d MMMM yyyy 'at' h:mm a"))},I=n(20),M=n.n(I),U=function(e){var t=e.children;return r.createElement(r.Fragment,null,M()(t,{round:0}))},z=function(e){var t=e.blob,n=Object(i.b)(),a=r.useCallback((function(){n({type:"REMOVE_FILES",payload:{blobs:[t]}})}),[n,t]);return r.createElement("button",{className:"btn btn-light",type:"button",onClick:a,title:"Remove this file"},"\xd7")},P=n(15),_=function(e){var t=e.blob,n=g(N),a=r.useState(null),l=Object(P.a)(a,2),c=l[0],u=l[1],i=r.useState(null),o=Object(P.a)(i,2),m=o[0],b=o[1],p=r.useCallback(Object(f.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.blob();case 6:r=e.sent,(a=new FileReader).addEventListener("load",(function(){u(String(a.result))})),a.readAsDataURL(r),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])}))),[t]),d=r.useCallback((function(e){e.preventDefault(),p()}),[p]),E=r.useCallback(function(){var e=Object(f.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null===c){e.next=5;break}return e.next=4,navigator.clipboard.writeText(c);case 4:b("Copied!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]);return r.useEffect((function(){t===n&&p()}),[t,n,p]),r.useEffect((function(){if(null!==m){var e=setTimeout((function(){b(null)}),1e3);return function(){return clearTimeout(e)}}}),[m]),null===c?r.createElement("button",{className:"btn btn-light",type:"button",onClick:d},"Generate"):r.createElement("button",{className:"btn btn-dark",type:"button",onClick:E},m||"Copy")},G=function(e){var t=e.blob,n=g((function(e){return function(e,t){return e.files.find((function(e){return e.blob===t}))||null}(e,t)}));return n?r.createElement("div",{className:"card card-body mb-3 position-relative"},r.createElement("div",{className:"d-flex"},r.createElement("div",{className:"flex-grow-1"},r.createElement(F,null,n.name),r.createElement("br",null),r.createElement("span",{className:"text-secondary"},r.createElement(A,null,n.last)),r.createElement("br",null),r.createElement("span",{className:"text-secondary"},n.type||r.createElement("em",null,"unknown"))," ",r.createElement("span",{className:"text-secondary"},"\u2022")," ",r.createElement("span",{className:n.size>1e6?"text-warning":"text-primary"},r.createElement(U,null,n.size))),r.createElement("div",{className:"ml-1"},r.createElement(_,{blob:t})),r.createElement("div",{className:"ml-1"},r.createElement(z,{blob:t})))):null},J=function(){var e=Object(i.c)(j);return r.createElement("ol",{className:"list-unstyled"},e.map((function(e){return r.createElement("li",{key:e.blob},r.createElement(G,{blob:e.blob}))})))},V=function(){!function(){var e=Object(i.b)();r.useEffect((function(){var t=function(e){if(e.dataTransfer){var t=Array.from(e.dataTransfer.items,(function(e){return e.kind})).some((function(e){return"file"===e}));e.dataTransfer.dropEffect=t?"copy":"none",t&&e.preventDefault()}},n=function(t){t.preventDefault(),t.dataTransfer&&e(w(t.dataTransfer))};return window.addEventListener("dragover",t),window.addEventListener("drop",n),function(){window.removeEventListener("dragover",t),window.removeEventListener("drop",n)}}))}(),function(){var e=Object(i.b)();r.useEffect((function(){var t=function(t){t.clipboardData&&e(w(t.clipboardData))};return document.addEventListener("paste",t),function(){document.removeEventListener("paste",t)}}))}();var e=Object(i.c)(D);return r.createElement("div",{className:"App container mt-5 mb-5"},r.createElement("a",{href:"https://skeoh.com/",className:"text-secondary"},"\u2190 skeoh.com"),r.createElement("h1",{className:"mb-5"},"File to data URL"),r.createElement("p",null,"Drop a file into this window to generate a data URL. You can also use copy+paste or the file browser below."),r.createElement(S,null),e&&r.createElement("div",{className:"my-3"},r.createElement(T,null)),r.createElement(J,null))},B=(n(33),n(34),Object(l.createStore)(k,Object(L.composeWithDevTools)(Object(l.applyMiddleware)(C.a))));Object(a.render)(r.createElement(i.a,{store:B},r.createElement(V,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.5424d981.chunk.js.map