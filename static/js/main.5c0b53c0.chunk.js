(this["webpackJsonpfile-to-data-url"]=this["webpackJsonpfile-to-data-url"]||[]).push([[0],{22:function(e,t,n){e.exports=n(37)},33:function(e,t,n){},34:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(8),c=n(4),l=n(6),i=n(7),u=n(2),s=n(1),o=n.n(s),f=n(3),m=n(17),p=n.n(m),b="function"===typeof DataTransferItem.prototype.webkitGetAsEntry,d=function(){var e=Object(f.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return t.file(e)}));case 2:return n=e.sent,e.abrupt("return",[n]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.createReader(),e.next=3,new Promise((function(e){return n.readEntries(e)}));case 3:return r=e.sent,e.next=6,Promise.all(r.map(E));case 6:return a=e.sent,e.abrupt("return",p()(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isFile){e.next=4;break}return e.abrupt("return",d(t));case 4:if(!t.isDirectory){e.next=8;break}return e.abrupt("return",v(t));case 8:throw new Error("Expected entry to be file or directory");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=t.webkitGetAsEntry())){e.next=3;break}return e.abrupt("return",E(n));case 3:if(null==(r=t.getAsFile())){e.next=6;break}return e.abrupt("return",[r]);case 6:throw new Error("Expected item to be file entry, got null");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(f.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=t.map(function(){var e=Object(f.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.push,e.t1=n,e.t2=l.a,e.next=5,y(t);case 5:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(r);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.files?Array.from(t.files):[],!(r=t.items?Array.from(t.items).filter((function(e){return"file"===e.kind})):[]).length||!b){e.next=4;break}return e.abrupt("return",h(r));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return"RESET"===e.type},k=function(e){return"ADD_FILES"===e.type},O=function(e){return{type:"ADD_FILES",payload:{files:Array.from(e,(function(e){return{name:e.name,size:e.size,type:e.type||null,last:new Date(e.lastModified).toISOString(),blob:URL.createObjectURL(e)}}))}}},N=function(e){return function(){var t=Object(f.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:(r=t.sent).length&&n(O(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return"REMOVE_FILES"===e.type},g={files:[],latest:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;if(x(t))return g;if(k(t))return Object(i.a)(Object(i.a)({},e),{},{files:[].concat(Object(l.a)(e.files),Object(l.a)(t.payload.files)),latest:1===t.payload.files.length?t.payload.files[0].blob:null});if(j(t)){var n=e.files,r=e.latest,a=t.payload.blobs;return Object(i.a)(Object(i.a)({},e),{},{files:n.filter((function(e){return a.indexOf(e.blob)<0})),latest:null!==r&&a.indexOf(r)<0?r:null})}return e},L=u.c,D=function(e){return e.files},C=function(e){return e.latest},I=function(e){return e.files.length>0},T=n(18),S=n(19),R=function(){var e=Object(u.b)(),t=r.useCallback((function(){e({type:"RESET"})}),[e]);return r.createElement("button",{className:"btn btn-danger",type:"button",onClick:t},"Clear all files")},A=function(){var e=Object(u.b)(),t=r.useCallback((function(t){t.currentTarget.files&&(e(O(t.currentTarget.files)),t.currentTarget.value="")}),[e]);return r.createElement("div",{className:"custom-file"},r.createElement("input",{id:"FileSelector",type:"file",multiple:!0,onChange:t}),r.createElement("label",{className:"custom-file-label",htmlFor:"FileSelector"},"Choose files"))},M=(n(33),function(e){var t=e.children,n=t.lastIndexOf(".");-1===n&&(n=t.length);var a=t.substring(0,n),c=t.substring(n);return r.createElement("div",{className:"FileName"},r.createElement("span",{className:"FileName-file-icon file-icon file-icon-xs mr-2","data-type":c.replace(/^\./,"")}),r.createElement("span",{className:"FileName-file-name"},a),c&&r.createElement("span",{className:"FileName-extension"},c))}),U=n(21),z=function(e){var t=e.children;return r.createElement(r.Fragment,null,Object(U.a)(new Date(t),"EEE d MMMM yyyy 'at' h:mm a"))},P=n(20),_=n.n(P),G=function(e){var t=e.children;return r.createElement(r.Fragment,null,_()(t,{round:0}))},J=function(e){var t=e.blob,n=Object(u.b)(),a=r.useCallback((function(){n({type:"REMOVE_FILES",payload:{blobs:[t]}})}),[n,t]);return r.createElement("button",{className:"btn btn-light",type:"button",onClick:a,title:"Remove this file"},"\xd7")},V=n(14),B=function(e){var t=e.blob,n=L(C),a=r.useState(null),c=Object(V.a)(a,2),l=c[0],i=c[1],u=r.useState(null),s=Object(V.a)(u,2),m=s[0],p=s[1],b=r.useCallback(Object(f.a)(o.a.mark((function e(){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.blob();case 6:r=e.sent,(a=new FileReader).addEventListener("load",(function(){i(String(a.result))})),a.readAsDataURL(r),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])}))),[t]),d=r.useCallback((function(e){e.preventDefault(),b()}),[b]),v=r.useCallback(function(){var e=Object(f.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null===l){e.next=5;break}return e.next=4,navigator.clipboard.writeText(l);case 4:p("Copied!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l]);return r.useEffect((function(){t===n&&b()}),[t,n,b]),r.useEffect((function(){if(null!==m){var e=setTimeout((function(){p(null)}),1e3);return function(){return clearTimeout(e)}}}),[m]),null===l?r.createElement("button",{className:"btn btn-light",type:"button",onClick:d},"Generate"):r.createElement("button",{className:"btn btn-dark",type:"button",onClick:v},m||"Copy")},W=(n(34),function(e){var t=e.blob,n=L((function(e){return function(e,t){return e.files.find((function(e){return e.blob===t}))||null}(e,t)}));return n?r.createElement("div",{className:"FilesListItem card card-body mb-3"},r.createElement("div",{className:"FilesListItem-grid"},r.createElement("div",{className:"FilesListItem-name"},r.createElement(M,null,n.name)),r.createElement("div",{className:"FilesListItem-last-modified"},r.createElement("span",{className:"text-secondary"},r.createElement(z,null,n.last))),r.createElement("div",{className:"FilesListItem-file-type"},r.createElement("span",{className:"text-secondary"},n.type||r.createElement("em",null,"unknown"))," ",r.createElement("span",{className:"text-secondary"},"\u2022")," ",r.createElement("span",{className:n.size>1e6?"text-warning":"text-primary"},r.createElement(G,null,n.size))),r.createElement("div",{className:"FilesListItem-copy"},r.createElement(B,{blob:t})),r.createElement("div",{className:"FilesListItem-remove"},r.createElement(J,{blob:t})))):null}),Y=function(){var e=Object(u.c)(D);return r.createElement("ol",{className:"list-unstyled"},e.map((function(e){return r.createElement("li",{key:e.blob},r.createElement(W,{blob:e.blob}))})))},q=function(){!function(){var e=Object(u.b)();r.useEffect((function(){var t=function(e){if(e.dataTransfer){var t=Array.from(e.dataTransfer.items,(function(e){return e.kind})).some((function(e){return"file"===e}));e.dataTransfer.dropEffect=t?"copy":"none",t&&e.preventDefault()}},n=function(t){t.preventDefault(),t.dataTransfer&&e(N(t.dataTransfer))};return window.addEventListener("dragover",t),window.addEventListener("drop",n),function(){window.removeEventListener("dragover",t),window.removeEventListener("drop",n)}}))}(),function(){var e=Object(u.b)();r.useEffect((function(){var t=function(t){t.clipboardData&&e(N(t.clipboardData))};return document.addEventListener("paste",t),function(){document.removeEventListener("paste",t)}}))}();var e=Object(u.c)(I);return r.createElement("div",{className:"App container mt-5 mb-5"},r.createElement("a",{href:"https://skeoh.com/",className:"text-secondary"},"\u2190 skeoh.com"),r.createElement("h1",{className:"mb-5"},"File to data URL"),r.createElement("p",null,"Drop a file into this window to generate a data URL. You can also use copy+paste or the file browser below."),r.createElement("div",{className:"container px-1 my-3"},r.createElement("div",{className:"row mx-n2"},r.createElement("div",{className:"col-sm px-1"},r.createElement(A,null)),e&&r.createElement("div",{className:"col-auto px-1"},r.createElement(R,null)))),r.createElement(Y,null))},H=(n(35),n(36),Object(c.createStore)(F,Object(T.composeWithDevTools)(Object(c.applyMiddleware)(S.a))));Object(a.render)(r.createElement(u.a,{store:H},r.createElement(q,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.5c0b53c0.chunk.js.map